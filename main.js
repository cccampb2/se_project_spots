!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_inactive",inputErrorClass:"modal__input_state_error",errorClass:"modal__error_visible"},t=(e,t,o)=>{n(e)?r(t,o):null!=t&&(t.classList.remove(o.inactiveButtonClass),t.disabled=!1)},r=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0},n=e=>e.some((e=>!e.validity.valid)),o=(e,t,r)=>{const n=e.querySelector(`#${t.id}-error`);t.classList.remove(r.inputErrorClass),n.textContent=""};function a(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Saving...";e.textContent=t?n:r}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Saving...";t.preventDefault();const n=t.submitter,o=n.textContent;a(n,!0,o,r),e().then((()=>{t.target.reset()})).catch(console.error).finally((()=>{a(n,!1,o)}))}const i=document.getElementById("image-logo"),l=document.getElementById("image-avatar");let c,d;i.src="8650253b58b46f0f1c06.svg";const u=document.querySelector(".page"),_=u.querySelector("#card__template").content,m=u.querySelector(".cards__list"),h=u.querySelector("#edit-modal"),f=(u.querySelector(".modal__profile-exit-button"),u.querySelector(".profile__edit-button")),v=u.querySelector(".profile__name"),p=u.querySelector(".profile__description"),y=h.querySelector("#name"),S=h.querySelector("#description"),b=(h.querySelector(".modal__save-button"),document.querySelector("#profile-link-modal")),q=document.forms["profile-link"],k=document.querySelector(".profile__avatar-btn"),g=b.querySelector(".modal__input"),E=(b.querySelector(".modal__save-button"),u.querySelector("#new-post-modal")),C=(u.querySelector(".modal__post-exit-button"),u.querySelector(".profile__add-button")),L=u.querySelector("#link"),x=u.querySelector("#caption"),U=u.querySelector("#new-post-btn"),A=(E.querySelector(".modal__save-button"),document.querySelector("#delete-card-modal")),$=document.forms["delete-card"],I=(A.querySelector(".modal__delete-button"),A.querySelector(".modal__cancel-button")),w=u.querySelector("#preview-modal"),R=(w.querySelector(".modal__preview-exit-button"),w.querySelector(".modal__preview-image")),B=w.querySelector(".modal__preview-desc"),P=document.querySelectorAll(".modal__close"),T=new class{constructor(e){let{baseUrl:t,headers:r}=e;this._baseUrl=t,this._headers=r}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:{authorization:this._headers.authorization}}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:{authorization:this._headers.authorization}}).then(this._checkResponse)}editUserInfo(e){let{name:t,about:r}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r})}).then(this._checkResponse)}editAvatarInfo(e){let{avatar:t}=e;return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}addNewCard(e){let{name:t,link:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}).then(this._checkResponse)}deleteCard(e){let{id:t}=e;return fetch(`${this._baseUrl}/cards/${t}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}handleCardLikeStatus(e,t){let{id:r}=e;return fetch(`${this._baseUrl}/cards/${r}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}_checkResponse(e){if(e.ok)return e.json();Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f6c1e3e7-6ede-480b-be3d-8b4192d2484b","Content-Type":"application/json"}});function D(e){e.classList.toggle("modal_is-open"),e.classList.contains("modal_is-open")?document.addEventListener("keyup",N):document.removeEventListener("keyup",N)}P.forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(()=>D(t)))}));const N=e=>{"Escape"===e.key&&D(u.querySelector(".modal_is-open"))};function z(){D(h)}f.addEventListener("click",(()=>{var t,r;y.value=v.textContent,S.value=p.textContent,t=O,r=e,[y,S].forEach((e=>{o(t,e,r)})),z()}));const O=document.forms["edit-profile-form"];function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";const r=function(e){const t=_.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__description"),n=t.querySelector(".card__image"),o=t.querySelector(".card__like-button");return n.src=e.link,n.alt=e.name,r.textContent=e.name,e.isLiked&&o.classList.add("card__like-button_liked"),n.addEventListener("click",(()=>{R.src=n.src,B.textContent=r.textContent,R.alt=r.textContent,D(w)})),o.addEventListener("click",(t=>{!function(e,t){const r=e.target.classList.contains("card__like-button_liked");T.handleCardLikeStatus({id:t._id},r).then((t=>{e.target.classList.toggle("card__like-button_liked")})).catch(console.error)}(t,e)})),t.querySelector(".card__delete-button").addEventListener("click",(r=>{!function(e,t){c=e,d=t._id,D(A)}(t,e)})),t}(e);m[t](r)}var J;O.addEventListener("submit",(function(e){s((function(){return T.editUserInfo({name:y.value,about:S.value}).then((t=>{v.textContent=t.name,p.textContent=t.about,z(),e.preventDefault()}))}),e)})),C.addEventListener("click",(()=>{D(E)})),document.forms["new-post-form"].addEventListener("submit",(function(t){s((function(){return T.addNewCard({name:x.value,link:L.value}).then((n=>{j(n),D(E),r(U,e),t.target.reset()}))}),t)})),I.addEventListener("click",(()=>{D(A)})),$.addEventListener("submit",(function(e){s((function(){return T.deleteCard({id:d}).then((()=>{c.remove(),D(A)}))}),e,"Deleting...")})),k.addEventListener("click",(()=>{D(b)})),q.addEventListener("submit",(function(e){s((function(){return T.editAvatarInfo({avatar:g.value}).then((e=>{l.src=e.avatar,D(b)}))}),e)})),Array.from(u.querySelectorAll(".modal")).forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.contains("modal")&&D(e.target)}))})),T.getAppInfo().then((e=>{let[t,r]=e;t.forEach((e=>{j(e,"append")})),v.textContent=r.name,p.textContent=r.about,l.src=r.avatar,l.alt=`Photo of ${r.name}`})).catch(console.error),J=e,Array.from(document.querySelectorAll(J.formSelector)).forEach((e=>{e.addEventListener("submit",(function(e){e.preventDefault()})),((e,r)=>{const n=Array.from(e.querySelectorAll(r.inputSelector)),a=e.querySelector(r.submitButtonSelector);t(n,a,r),n.forEach((s=>{s.addEventListener("input",(function(){((e,t,r)=>{t.validity.valid?o(e,t,r):((e,t,r,n)=>{const o=e.querySelector(`#${t.id}-error`);t.classList.add(n.inputErrorClass),o.textContent=r})(e,t,t.validationMessage,r)})(e,s,r),t(n,a,r)}))}))})(e,J)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN0QyxNQUFNRixFQUFZa0osTUFBTUMsS0FDdEJySSxFQUFZNEQsaUJBQWlCeEUsRUFBT1IsZ0JBRWhDTyxFQUFnQmEsRUFBWUUsY0FBY2QsRUFBT1Asc0JBRXZESSxFQUFrQkMsRUFBV0MsRUFBZUMsR0FFNUNGLEVBQVUwSCxTQUFTaEgsSUFDakJBLEVBQWE2RyxpQkFBaUIsU0FBUyxXQXRCaEJnQyxFQUFDekksRUFBYUosRUFBY1IsS0FDaERRLEVBQWFDLFNBQVNDLE1BUXpCQyxFQUFlQyxFQUFhSixFQUFjUixHQXZCdkJzSixFQUFDMUksRUFBYUosRUFBYytJLEVBQWN2SixLQUMvRCxNQUFNYSxFQUFlRCxFQUFZRSxjQUFjLElBQUlOLEVBQWFPLFlBRWhFUCxFQUFhTCxVQUFVRyxJQUFJTixFQUFPTCxpQkFFbENrQixFQUFhRyxZQUFjdUksQ0FBWSxFQVdyQ0QsQ0FDRTFJLEVBQ0FKLEVBQ0FBLEVBQWFnSixrQkFDYnhKLEVBSUosRUFhSXFKLENBQW1CekksRUFBYUosRUFBY1IsR0FDOUNILEVBQWtCQyxFQUFXQyxFQUFlQyxFQUM5QyxHQUFFLEdBQ0YsRUFVQW9KLENBQWtCeEksRUFBYVosRUFBTyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3Nwb3RzLy4vc3JjL3V0aWxzL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc3BvdHMvLi9zcmMvdXRpbHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3NhdmUtYnV0dG9uX2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfc3RhdGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XG4gICAgZGlzYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCBjb25maWcpO1xuICB9IGVsc2UgaWYgKGJ1dHRvbkVsZW1lbnQgIT0gbnVsbCkge1xuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG59O1xuXG5jb25zdCBkaXNhYmxlQnV0dG9uID0gKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbn07XG5cbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgfSk7XG59O1xuXG5jb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsZW1lbnQsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UsIGNvbmZpZykgPT4ge1xuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG5cbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG5cbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG59O1xuXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgc2hvd0lucHV0RXJyb3IoXG4gICAgICBmb3JtRWxlbWVudCxcbiAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSxcbiAgICAgIGNvbmZpZ1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgfVxufTtcblxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpXG4gICk7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcblxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQsIGNvbmZpZyk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHtcbiAgZW5hYmxlVmFsaWRhdGlvbixcbiAgcmVzZXRWYWxpZGF0aW9uLFxuICBkaXNhYmxlQnV0dG9uLFxuICB0b2dnbGVCdXR0b25TdGF0ZSxcbiAgc2V0dGluZ3MsXG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHNldEJ1dHRvblRleHQoXG4gIGJ0bixcbiAgaXNMb2FkaW5nLFxuICBkZWZhdWx0VGV4dCA9IFwiU2F2ZVwiLFxuICBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCJcbikge1xuICBidG4udGV4dENvbnRlbnQgPSBpc0xvYWRpbmcgPyBsb2FkaW5nVGV4dCA6IGRlZmF1bHRUZXh0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlU3VibWl0KHJlcXVlc3QsIGV2dCwgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGV2dC5zdWJtaXR0ZXI7XG4gIGNvbnN0IGluaXRpYWxUZXh0ID0gc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuXG4gIHNldEJ1dHRvblRleHQoc3VibWl0QnV0dG9uLCB0cnVlLCBpbml0aWFsVGV4dCwgbG9hZGluZ1RleHQpO1xuICAvLyBjYWxsIHRoZSByZXF1ZXN0IGZ1bmN0aW9uIHRvIGJlIGFibGUgdG8gdXNlIHRoZSBwcm9taXNlIGNoYWluXG4gIHJlcXVlc3QoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIC8vIGFueSBmb3JtIHNob3VsZCBiZSByZXNldCBhZnRlciBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2VcbiAgICAgIC8vIGV2dC50YXJnZXQgaXMgdGhlIGZvcm0gaW4gYW55IHN1Ym1pdCBoYW5kbGVyXG4gICAgICBldnQudGFyZ2V0LnJlc2V0KCk7XG4gICAgfSlcbiAgICAvLyB3ZSBuZWVkIHRvIGNhdGNoIHBvc3NpYmxlIGVycm9yc1xuICAgIC8vIGNvbnNvbGUuZXJyb3IgaXMgdXNlZCB0byBoYW5kbGUgZXJyb3JzIGlmIHlvdSBkb27igJl0IGhhdmUgYW55IG90aGVyIHdheXMgZm9yIHRoYXRcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcblxuICAgIC8vIGFuZCBpbiBmaW5hbGx5IHdlIG5lZWQgdG8gc3RvcCBsb2FkaW5nXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc2V0QnV0dG9uVGV4dChzdWJtaXRCdXR0b24sIGZhbHNlLCBpbml0aWFsVGV4dCk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IHtcbiAgc2V0dGluZ3MsXG4gIGVuYWJsZVZhbGlkYXRpb24sXG4gIGRpc2FibGVCdXR0b24sXG4gIHRvZ2dsZUJ1dHRvblN0YXRlLFxuICByZXNldFZhbGlkYXRpb24sXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcblxuaW1wb3J0IHsgc2V0QnV0dG9uVGV4dCwgaGFuZGxlU3VibWl0IH0gZnJvbSBcIi4uL3V0aWxzL2hlbHBlcnMuanNcIjtcblxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XG5cbmltcG9ydCBsb2dvIGZyb20gXCIuLi9pbWFnZXMvTG9nby5zdmdcIjtcbmNvbnN0IGxvZ29JbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2UtbG9nb1wiKTtcbmNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWFnZS1hdmF0YXJcIik7XG5sb2dvSW1hZ2Uuc3JjID0gbG9nbztcblxuLy9DYXJkcyBmb3IgZGVsZXRpb24gcHJvY2Vzc1xubGV0IHNlbGVjdGVkQ2FyZDtcbmxldCBzZWxlY3RlZENhcmRJZDtcblxuY29uc3QgcGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZVwiKTtcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IHBhZ2UucXVlcnlTZWxlY3RvcihcIiNjYXJkX190ZW1wbGF0ZVwiKS5jb250ZW50O1xuY29uc3QgY2FyZExpc3QgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5cbi8vRWRpdCBQcm9maWxlIE1vZGFsXG5jb25zdCBlZGl0TW9kYWwgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1tb2RhbFwiKTtcbmNvbnN0IGVkaXRQcm9maWxlRXhpdEJ1dHRvbiA9IHBhZ2UucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJvZmlsZS1leGl0LWJ1dHRvblwiKTtcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gcGFnZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVEZXNjID0gcGFnZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuY29uc3QgZWRpdE1vZGFsTmFtZSA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI25hbWVcIik7XG5jb25zdCBlZGl0TW9kYWxEZXNjID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25cIik7XG5jb25zdCBwcm9maWxlU2F2ZUJ0biA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcblxuLy9FZGl0IEF2YXRhciBNb2RhbFxuY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbGluay1tb2RhbFwiKTtcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtbGlua1wiXTtcbmNvbnN0IGF2YXRhck1vZGFsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnRuXCIpO1xuY29uc3QgYXZhdGFySW5wdXQgPSBhdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbnB1dFwiKTtcbmNvbnN0IGF2YXRhclNhdmVCdG4gPSBhdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcblxuLy9OZXcgUG9zdCBNb2RhbFxuY29uc3QgbmV3UG9zdE1vZGFsID0gcGFnZS5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsXCIpO1xuY29uc3QgbmV3UG9zdEV4aXRCdXR0b24gPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3Bvc3QtZXhpdC1idXR0b25cIik7XG5jb25zdCBuZXdQb3N0QnV0dG9uID0gcGFnZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBuZXdQb3N0VXJsID0gcGFnZS5xdWVyeVNlbGVjdG9yKFwiI2xpbmtcIik7XG5jb25zdCBuZXdQb3N0Q2FwdGlvbiA9IHBhZ2UucXVlcnlTZWxlY3RvcihcIiNjYXB0aW9uXCIpO1xuY29uc3QgYnV0dG9uRWxlbWVudCA9IHBhZ2UucXVlcnlTZWxlY3RvcihcIiNuZXctcG9zdC1idG5cIik7XG5jb25zdCBuZXdQb3N0U2F2ZUJ0biA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcblxuLy9EZWxldGUgTW9kYWxcbmNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtY2FyZC1tb2RhbFwiKTtcbmNvbnN0IGRlbGV0ZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImRlbGV0ZS1jYXJkXCJdO1xuY29uc3QgZGVsZXRlQnRuID0gZGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZGVsZXRlLWJ1dHRvblwiKTtcbmNvbnN0IGNhbmNlbEJ0biA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhbmNlbC1idXR0b25cIik7XG5cbi8vUHJldmlldyBNb2RhbFxuY29uc3QgcHJldmlld01vZGFsID0gcGFnZS5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XG5jb25zdCBwcmV2aWV3RXhpdEJ1dHRvbiA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fcHJldmlldy1leGl0LWJ1dHRvblwiXG4pO1xuY29uc3QgcHJldmlld0ltYWdlID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3ByZXZpZXctaW1hZ2VcIik7XG5jb25zdCBwcmV2aWV3RGVzYyA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LWRlc2NcIik7XG5cbi8vVW5pdmVyc2FsIGZ1bmN0aW9uIGZvciBjbG9zZSBidXR0b25zXG4vLyBGaW5kIGFsbCBjbG9zZSBidXR0b25zXG5jb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19jbG9zZVwiKTtcblxuY29uc3QgbXlBcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJmNmMxZTNlNy02ZWRlLTQ4MGItYmUzZC04YjQxOTJkMjQ4NGJcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5jbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gIC8vIEZpbmQgdGhlIGNsb3Nlc3QgcG9wdXAgb25seSBvbmNlXG4gIGNvbnN0IHBvcHVwID0gYnV0dG9uLmNsb3Nlc3QoXCIubW9kYWxcIik7XG4gIC8vIFNldCB0aGUgbGlzdGVuZXJcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0b2dnbGVNb2RhbChwb3B1cCkpO1xufSk7XG5cbi8vRWRpdCBQcm9maWxlIE1vZGFsIEZ1bmN0aW9ucy9IYW5kbGVycy9MaXN0ZW5lcnNcbmZ1bmN0aW9uIHRvZ2dsZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC50b2dnbGUoXCJtb2RhbF9pcy1vcGVuXCIpO1xuXG4gIGlmIChtb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9pcy1vcGVuXCIpKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGNsb3NlV2l0aEVzY2FwZSk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGNsb3NlV2l0aEVzY2FwZSk7XG4gIH1cbn1cblxuY29uc3QgY2xvc2VXaXRoRXNjYXBlID0gKGV2dCkgPT4ge1xuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNvbnN0IGN1cnJNb2RhbCA9IHBhZ2UucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9pcy1vcGVuXCIpO1xuICAgIHRvZ2dsZU1vZGFsKGN1cnJNb2RhbCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGV2dCkge1xuICBmdW5jdGlvbiBtYWtlUmVxdWVzdCgpIHtcbiAgICByZXR1cm4gbXlBcGlcbiAgICAgIC5lZGl0VXNlckluZm8oeyBuYW1lOiBlZGl0TW9kYWxOYW1lLnZhbHVlLCBhYm91dDogZWRpdE1vZGFsRGVzYy52YWx1ZSB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgICAgIHByb2ZpbGVEZXNjLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICAgICAgdG9nZ2xlUHJvZmlsZU1vZGFsKCk7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGV2dCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdChldnQpIHtcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIG15QXBpLmVkaXRBdmF0YXJJbmZvKHsgYXZhdGFyOiBhdmF0YXJJbnB1dC52YWx1ZSB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBhdmF0YXJJbWFnZS5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAgIHRvZ2dsZU1vZGFsKGF2YXRhck1vZGFsKTtcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGV2dCk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZVByb2ZpbGVNb2RhbCgpIHtcbiAgdG9nZ2xlTW9kYWwoZWRpdE1vZGFsKTtcbn1cblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZWRpdE1vZGFsTmFtZS52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xuICBlZGl0TW9kYWxEZXNjLnZhbHVlID0gcHJvZmlsZURlc2MudGV4dENvbnRlbnQ7XG4gIHJlc2V0VmFsaWRhdGlvbihwcm9maWxlRm9ybUVsZW1lbnQsIFtlZGl0TW9kYWxOYW1lLCBlZGl0TW9kYWxEZXNjXSwgc2V0dGluZ3MpO1xuICB0b2dnbGVQcm9maWxlTW9kYWwoKTtcbn0pO1xuXG5jb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5mb3Jtc1tcImVkaXQtcHJvZmlsZS1mb3JtXCJdO1xuXG5wcm9maWxlRm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XG5cbi8vTmV3IFBvc3QgTW9kYWwgRnVuY3Rpb25zL0hhbmRsZXJzL0xpc3RlbmVyc1xuXG5uZXdQb3N0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHRvZ2dsZU1vZGFsKG5ld1Bvc3RNb2RhbCk7XG59KTtcblxuZnVuY3Rpb24gaGFuZGxlTmV3UG9zdEZvcm1TdWJtaXQoZXZ0KSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBteUFwaVxuICAgICAgLmFkZE5ld0NhcmQoe1xuICAgICAgICBuYW1lOiBuZXdQb3N0Q2FwdGlvbi52YWx1ZSxcbiAgICAgICAgbGluazogbmV3UG9zdFVybC52YWx1ZSxcbiAgICAgIH0pXG4gICAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgICByZW5kZXJDYXJkKGNhcmQpO1xuICAgICAgICB0b2dnbGVNb2RhbChuZXdQb3N0TW9kYWwpO1xuICAgICAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIHNldHRpbmdzKTtcbiAgICAgICAgZXZ0LnRhcmdldC5yZXNldCgpO1xuICAgICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGV2dCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVN1Ym1pdChldnQpIHtcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIG15QXBpLmRlbGV0ZUNhcmQoeyBpZDogc2VsZWN0ZWRDYXJkSWQgfSkudGhlbigoKSA9PiB7XG4gICAgICBzZWxlY3RlZENhcmQucmVtb3ZlKCk7XG4gICAgICB0b2dnbGVNb2RhbChkZWxldGVNb2RhbCk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGV2dCwgXCJEZWxldGluZy4uLlwiKTtcbn1cblxuY29uc3QgbmV3UG9zdEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJuZXctcG9zdC1mb3JtXCJdO1xubmV3UG9zdEZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlTmV3UG9zdEZvcm1TdWJtaXQpO1xuXG4vL0NhcmQgRnVuY3Rpb25zL0hhbmRsZXJzL0xpc3RlbmVyc1xuXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKS5jbG9uZU5vZGUodHJ1ZSk7XG4gIGNvbnN0IGNhcmREZXNjID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZXNjcmlwdGlvblwiKTtcbiAgY29uc3QgY2FyZEltZyA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGxpa2VCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuXG4gIGNhcmRJbWcuc3JjID0gZGF0YS5saW5rO1xuICBjYXJkSW1nLmFsdCA9IGRhdGEubmFtZTtcbiAgY2FyZERlc2MudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gIGlmIChkYXRhLmlzTGlrZWQpIHtcbiAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcbiAgfVxuXG4gIGNhcmRJbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwcmV2aWV3SW1hZ2Uuc3JjID0gY2FyZEltZy5zcmM7XG4gICAgcHJldmlld0Rlc2MudGV4dENvbnRlbnQgPSBjYXJkRGVzYy50ZXh0Q29udGVudDtcbiAgICBwcmV2aWV3SW1hZ2UuYWx0ID0gY2FyZERlc2MudGV4dENvbnRlbnQ7XG5cbiAgICB0b2dnbGVNb2RhbChwcmV2aWV3TW9kYWwpO1xuICB9KTtcblxuICBsaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgaGFuZGxlTGlrZShldnQsIGRhdGEpO1xuICB9KTtcblxuICBjb25zdCBkZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XG4gIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgIGhhbmRsZUNhcmREZWxldGUoY2FyZEVsZW1lbnQsIGRhdGEpO1xuICB9KTtcblxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2UoZXZ0LCBkYXRhKSB7XG4gIGNvbnN0IGlzTGlrZWQgPSBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2xpa2UtYnV0dG9uX2xpa2VkXCIpO1xuICBteUFwaVxuICAgIC5oYW5kbGVDYXJkTGlrZVN0YXR1cyh7IGlkOiBkYXRhLl9pZCB9LCBpc0xpa2VkKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2FyZERlbGV0ZShjYXJkRWxlbWVudCwgZGF0YSkge1xuICBzZWxlY3RlZENhcmQgPSBjYXJkRWxlbWVudDtcbiAgc2VsZWN0ZWRDYXJkSWQgPSBkYXRhLl9pZDtcbiAgdG9nZ2xlTW9kYWwoZGVsZXRlTW9kYWwpO1xufVxuXG5jYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdG9nZ2xlTW9kYWwoZGVsZXRlTW9kYWwpO1xufSk7XG5cbmRlbGV0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVEZWxldGVTdWJtaXQpO1xuXG5mdW5jdGlvbiByZW5kZXJDYXJkKGl0ZW0sIG1ldGhvZCA9IFwicHJlcGVuZFwiKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoaXRlbSk7XG4gIC8vIEFkZCB0aGUgY2FyZCBpbnRvIHRoZSBzZWN0aW9uIHVzaW5nIHRoZSBtZXRob2RcbiAgY2FyZExpc3RbbWV0aG9kXShjYXJkRWxlbWVudCk7XG59XG5cbi8vTW9kYWwgTGlzdGVuZXJzL2Z1bmN0aW9uc1xuYXZhdGFyTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdG9nZ2xlTW9kYWwoYXZhdGFyTW9kYWwpO1xufSk7XG5cbmF2YXRhckZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBdmF0YXJTdWJtaXQpO1xuXG5jb25zdCBtb2RhbHMgPSBBcnJheS5mcm9tKHBhZ2UucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKSk7XG5tb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSkge1xuICAgICAgdG9nZ2xlTW9kYWwoZXZ0LnRhcmdldCk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5teUFwaVxuICAuZ2V0QXBwSW5mbygpXG4gIC50aGVuKChbY2FyZHMsIHVzZXJdKSA9PiB7XG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgcmVuZGVyQ2FyZChjYXJkLCBcImFwcGVuZFwiKTtcbiAgICB9KTtcbiAgICAvL1NldCBVc2VyIEluZm9cbiAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHVzZXIubmFtZTtcbiAgICBwcm9maWxlRGVzYy50ZXh0Q29udGVudCA9IHVzZXIuYWJvdXQ7XG4gICAgYXZhdGFySW1hZ2Uuc3JjID0gdXNlci5hdmF0YXI7XG4gICAgYXZhdGFySW1hZ2UuYWx0ID0gYFBob3RvIG9mICR7dXNlci5uYW1lfWA7XG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgZ2V0QXBwSW5mbygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0VXNlckluZm8oKV0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5faGVhZGVycy5hdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9oZWFkZXJzLmF1dGhvcml6YXRpb24sXG4gICAgICB9LFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBlZGl0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBlZGl0QXZhdGFySW5mbyh7IGF2YXRhciB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKHsgaWQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGhhbmRsZUNhcmRMaWtlU3RhdHVzKHsgaWQgfSwgaXNMaWtlZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogaXNMaWtlZCA/IFwiREVMRVRFXCIgOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG59XG4iXSwibmFtZXMiOlsic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWxlbWVudCIsImNvbmZpZyIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJkaXNhYmxlZCIsImFkZCIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWxlbWVudCIsImVycm9yRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsInRleHRDb250ZW50Iiwic2V0QnV0dG9uVGV4dCIsImJ0biIsImlzTG9hZGluZyIsImRlZmF1bHRUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibG9hZGluZ1RleHQiLCJoYW5kbGVTdWJtaXQiLCJyZXF1ZXN0IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJzdWJtaXRCdXR0b24iLCJzdWJtaXR0ZXIiLCJpbml0aWFsVGV4dCIsInRoZW4iLCJ0YXJnZXQiLCJyZXNldCIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIiwiZmluYWxseSIsImxvZ29JbWFnZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhdmF0YXJJbWFnZSIsInNlbGVjdGVkQ2FyZCIsInNlbGVjdGVkQ2FyZElkIiwic3JjIiwicGFnZSIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjYXJkTGlzdCIsImVkaXRNb2RhbCIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzYyIsImVkaXRNb2RhbE5hbWUiLCJlZGl0TW9kYWxEZXNjIiwiYXZhdGFyTW9kYWwiLCJhdmF0YXJGb3JtIiwiZm9ybXMiLCJhdmF0YXJNb2RhbEJ0biIsImF2YXRhcklucHV0IiwibmV3UG9zdE1vZGFsIiwibmV3UG9zdEJ1dHRvbiIsIm5ld1Bvc3RVcmwiLCJuZXdQb3N0Q2FwdGlvbiIsImRlbGV0ZU1vZGFsIiwiZGVsZXRlRm9ybSIsImNhbmNlbEJ0biIsInByZXZpZXdNb2RhbCIsInByZXZpZXdJbWFnZSIsInByZXZpZXdEZXNjIiwiY2xvc2VCdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsIm15QXBpIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEFwcEluZm8iLCJQcm9taXNlIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckluZm8iLCJmZXRjaCIsImF1dGhvcml6YXRpb24iLCJfY2hlY2tSZXNwb25zZSIsImVkaXRVc2VySW5mbyIsIl9yZWYyIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0QXZhdGFySW5mbyIsIl9yZWYzIiwiYXZhdGFyIiwiYWRkTmV3Q2FyZCIsIl9yZWY0IiwibGluayIsImRlbGV0ZUNhcmQiLCJfcmVmNSIsImhhbmRsZUNhcmRMaWtlU3RhdHVzIiwiX3JlZjYiLCJpc0xpa2VkIiwicmVzIiwib2siLCJqc29uIiwicmVqZWN0Iiwic3RhdHVzIiwidG9nZ2xlTW9kYWwiLCJtb2RhbCIsInRvZ2dsZSIsImNvbnRhaW5zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3NlV2l0aEVzY2FwZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwiYnV0dG9uIiwicG9wdXAiLCJjbG9zZXN0Iiwia2V5IiwidG9nZ2xlUHJvZmlsZU1vZGFsIiwicmVzZXRWYWxpZGF0aW9uIiwidmFsdWUiLCJwcm9maWxlRm9ybUVsZW1lbnQiLCJpbnB1dCIsInJlbmRlckNhcmQiLCJpdGVtIiwiY2FyZEVsZW1lbnQiLCJkYXRhIiwiY2xvbmVOb2RlIiwiY2FyZERlc2MiLCJjYXJkSW1nIiwibGlrZUJ1dHRvbiIsImFsdCIsIl9pZCIsImhhbmRsZUxpa2UiLCJoYW5kbGVDYXJkRGVsZXRlIiwiZ2V0Q2FyZEVsZW1lbnQiLCJjYXJkIiwiQXJyYXkiLCJmcm9tIiwiY2FyZHMiLCJ1c2VyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==